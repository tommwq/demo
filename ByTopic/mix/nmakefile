
objects=Byte.obj Word.obj Instrument.obj Mix.obj Main.obj Instrument_lda.obj Instrument_ldx.obj Mix_instrument_set.obj
unittests=Byte_test.exe Word_test.exe Instrument_test.exe

all: mix.exe


mix.exe: $(objects)
	$(CXX) /Fe$@ $**


.cc.obj:
	$(CXX) /c /EHsc $? 

clean:
	del *.obj *.exe

unittest: $(unittests)
	Byte_test.exe
	Word_test.exe
	Instrument_test.exe

Byte_test.exe: Byte_test.cc Byte.cc unittest.cc
	$(CXX) /EHsc /Fe$@ $**

Word_test.exe: Word_test.cc Word.cc unittest.cc Byte.cc
	$(CXX) /EHsc /Fe$@ $**

Instrument_test.exe: Instrument_test.cc Instrument.cc unittest.cc Byte.cc Instrument_lda.cc Word.cc
	$(CXX) /EHsc /Fe$@ $**
